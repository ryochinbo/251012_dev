# 開発ルール
どのタスクを行う際もまず、この文書を読み、これに従い作業を行う。

## 開発ログの記載
- 変更を行うたびに`.gemini/開発ログ.md`に変更時間、変更内容とそのファイル名、変更理由を記載する
```markdoen
# {今日の日付}
## {今の時間} 
### 変更内容
#### {作業名}
- 変更ファイル
変更内容
> 変更理由
- 変更ファイル
変更内容
> 変更理由
- 変更ファイル
変更内容
> 変更理由
### {作業名}
- 変更ファイル
変更内容
> 変更理由
- 変更ファイル
変更内容
> 変更理由
```


## フォルダ構成の指針

このプロジェクトでは、以下のフォルダ構成に従ってファイルを配置してください。

- **`/src`**: すべてのPythonソースコードを格納します。
    - **`/src/data_processing`**: ドキュメントのロード、前処理、チャンク化など、データ準備に関するモジュールを配置します。
    - **`/src/retrievers`**: ベクトル検索、キーワード検索、GraphRAGなど、様々な検索（Retrieval）戦略を実装するモジュールを配置します。
    - **`/src/generators`**: LLMにプロンプトを渡して最終的な回答を生成するモジュールを配置します。
    - **`/src/agents`**: 質問に応じて最適なRAG戦略を選択・実行するAgentのロジックを配置します。
    - **`/src/pipelines`**: データ処理、検索、生成を組み合わせたRAGのパイプライン全体を定義するモジュールを配置します。
    - **`/src/web_ui`**: Streamlitなど、Web UIに関連するコードを配置します。

- **`/notebooks`**: 実験、分析、プロトタイピングのためのJupyter Notebookを格納します。`src`内の機能を呼び出して試すことを主目的とします。

- **`/data`**: RAGが参照するデータや、生成されたデータベースファイルを格納します。
    - **`/data/raw`**: 未加工のPDF、TXT、Markdownファイルなどを配置します。
    - **`/data/processed`**: チャンク化されたテキストなど、前処理済みのデータを配置します。
    - **`/data/vector_store`**: ChromaDBなどのローカルベクトルデータベースのファイルを配置します。

- **`/tests`**: `src`内の各モジュールに対するテストコード（ユニットテスト、統合テスト）を格納します。

- **`/configs`**: プロジェクト全体で使用する設定ファイルを格納します。APIキーなどの機密情報は含めず、`.env`ファイルで管理してください。

- **`/scripts`**: データセットのダウンロード、バッチ処理、デプロイメントなど、一度きりの実行や補助的なタスクを実行するスクリプトを格納します。

- **`/docs`**: プロジェクトの設計書、議事録、学習した内容のメモなど、開発関連ドキュメントを格納します。

## コーディング規約

- Pythonのコーディングスタイルは **PEP 8** に準拠します。
- 型ヒントを可能な限り使用してください。
- 新しい機能を追加した際や、既存の機能を変更した際は、必ず対応するテストコードを`/tests`に追加・更新してください。

## コミットメッセージ

- コミットメッセージは、変更内容が簡潔にわかるように記述してください。
- `feat:`, `fix:`, `docs:`, `refactor:` などのプレフィックスを付けると、変更の種類が分かりやすくなります。(例: `feat: Add BM25 retriever`)

## その他

- APIキーやパスワードなどの機密情報は、絶対にGitリポジトリにコミットしないでください。`.env`ファイルに記述し、`.gitignore`で管理してください。
